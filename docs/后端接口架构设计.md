# é…’åº—è¥é”€ç®¡ç†ç³»ç»Ÿåç«¯æ¥å£æ¶æ„åˆ†æä¸è®¾è®¡

## ğŸ“Š ä¸šåŠ¡éœ€æ±‚åˆ†æ

åŸºäºå¯¹å°ç¨‹åºå‰ç«¯ä¸šåŠ¡çš„æ·±å…¥åˆ†æï¼Œè¯†åˆ«å‡ºä»¥ä¸‹æ ¸å¿ƒä¸šåŠ¡æ¨¡å—ï¼š

### æ ¸å¿ƒä¸šåŠ¡æµç¨‹
1. **è¥é”€ç­–ç•¥åˆ¶å®š** - åŸºäºé…’åº—ç‰¹å¾å’Œå¸‚åœºç¯å¢ƒåˆ¶å®šè¥é”€è®¡åˆ’
2. **ä»»åŠ¡æ‰§è¡Œç®¡ç†** - å¤šæ¸ é“è¥é”€ä»»åŠ¡çš„åˆ›å»ºã€åˆ†é…ã€æ‰§è¡Œã€è·Ÿè¸ª
3. **ç´ æå†…å®¹ç®¡ç†** - å›¾ç‰‡ã€è§†é¢‘ã€æˆå“ç­‰è¥é”€ç´ æçš„å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†  
4. **æ•°æ®åˆ†ææŠ¥å‘Š** - å¤šç»´åº¦è¥é”€æ•ˆæœåˆ†æå’ŒROIè®¡ç®—
5. **å›¢é˜Ÿåä½œç®¡ç†** - å›¢é˜Ÿæˆå‘˜åˆ†å·¥ã€æƒé™æ§åˆ¶ã€æ¶ˆæ¯é€šçŸ¥

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„è®¾è®¡

### å¾®æœåŠ¡æ¶æ„å»ºè®®
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   è¥é”€ç­–ç•¥æœåŠ¡   â”‚  â”‚   ä»»åŠ¡ç®¡ç†æœåŠ¡   â”‚  â”‚   ç´ æç®¡ç†æœåŠ¡   â”‚
â”‚ Marketing-Plan  â”‚  â”‚  Task-Manager   â”‚  â”‚ Material-Store  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                      â”‚                      â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æ•°æ®åˆ†ææœåŠ¡   â”‚  â”‚   ç”¨æˆ·æƒé™æœåŠ¡   â”‚  â”‚   æ¶ˆæ¯é€šçŸ¥æœåŠ¡   â”‚
â”‚ Analytics-Hub   â”‚  â”‚   Auth-Center   â”‚  â”‚ Notification   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ å®Œå–„åçš„æ¥å£è®¾è®¡

### 1. è¥é”€ç­–ç•¥ç®¡ç†æ¨¡å—

#### 1.1 AIè¥é”€è®¡åˆ’ç”Ÿæˆ
**æ¥å£åœ°å€ï¼š** `POST /api/marketing/ai-generate`

**è¯·æ±‚å‚æ•°ï¼š**
```json
{
  "hotelId": "hotel_001",
  "period": {
    "startDate": "2025-12-01",
    "endDate": "2025-12-31"
  },
  "targetAudience": "å•†åŠ¡å®¢æˆ·",
  "budget": 50000,
  "channels": ["wechat", "douyin", "xiaohongshu"],
  "marketingGoals": {
    "occupancyRate": 85,
    "revenue": 1000000,
    "brandExposure": 100000
  },
  "hotelFeatures": {
    "location": "å¸‚ä¸­å¿ƒ",
    "starLevel": 4,
    "specialServices": ["å•†åŠ¡ä¸­å¿ƒ", "å¥èº«æˆ¿", "ä¼šè®®å®¤"]
  }
}
```

**å“åº”æ•°æ®ï¼š**
```json
{
  "code": 200,
  "success": true,
  "data": {
    "planId": "plan_ai_001",
    "generatedTasks": [
      {
        "date": "2025-12-01",
        "tasks": [
          {
            "time": "09:00",
            "title": "å•†åŠ¡å®¢æˆ·ç”»åƒåˆ†æ",
            "type": "æ•°æ®åˆ†æ",
            "channels": ["å†…éƒ¨åˆ†æ"],
            "priority": "high",
            "aiReason": "åŸºäºé…’åº—å•†åŠ¡å®šä½ï¼Œå»ºè®®å…ˆåˆ†æç›®æ ‡å®¢ç¾¤ç‰¹å¾"
          }
        ]
      }
    ],
    "expectedMetrics": {
      "estimatedROI": 3.2,
      "projectedOccupancy": 78,
      "budgetAllocation": {
        "wechat": 0.4,
        "douyin": 0.35,
        "xiaohongshu": 0.25
      }
    }
  }
}
```

#### 1.2 è¥é”€æ—¥å†ç®¡ç†
**æ¥å£åœ°å€ï¼š** `GET /api/marketing/calendar`

**æŸ¥è¯¢å‚æ•°ï¼š**
```
hotelId: string (å¿…å¡«)
year: number (å¿…å¡«)
month: number (å¿…å¡«)
view: string (å¯é€‰) - day|week|month
```

**å“åº”æ•°æ®ï¼š**
```json
{
  "code": 200,
  "success": true,
  "data": {
    "calendar": {
      "year": 2025,
      "month": 12,
      "days": [
        {
          "date": "2025-12-01",
          "weekday": "å‘¨æ—¥",
          "isToday": false,
          "tasks": [
            {
              "id": "task_001",
              "time": "09:00",
              "title": "å®¢æˆ·å’¨è¯¢å›å¤",
              "status": "completed",
              "priority": "high",
              "assignedTo": "å¼ å°æ˜",
              "channels": ["å¾®ä¿¡", "ç”µè¯"]
            }
          ],
          "metrics": {
            "taskCount": 4,
            "completionRate": 75,
            "hotLevel": "medium"
          },
          "specialEvents": [
            {
              "type": "holiday",
              "name": "å›½é™…æ®‹ç–¾äººæ—¥",
              "marketingOpportunity": "å…³çˆ±ä¸»é¢˜è¥é”€"
            }
          ]
        }
      ],
      "summary": {
        "totalTasks": 144,
        "completedTasks": 78,
        "highPriorityTasks": 23,
        "overduesTasks": 2
      }
    }
  }
}
```

### 2. ä»»åŠ¡æ‰§è¡Œç®¡ç†æ¨¡å—

#### 2.1 ä»»åŠ¡æ¨¡æ¿ç®¡ç†
**æ¥å£åœ°å€ï¼š** `GET /api/tasks/templates`

**æŸ¥è¯¢å‚æ•°ï¼š**
```
category: string (å¯é€‰) - social_media|content_marketing|customer_service|data_analysis
channel: string (å¯é€‰) - wechat|douyin|xiaohongshu|all
```

**å“åº”æ•°æ®ï¼š**
```json
{
  "code": 200,
  "success": true,
  "data": {
    "templates": [
      {
        "id": "template_001",
        "name": "æŠ–éŸ³çŸ­è§†é¢‘å‘å¸ƒæ¨¡æ¿",
        "category": "social_media",
        "channel": "douyin",
        "estimatedDuration": 60,
        "requiredSkills": ["è§†é¢‘æ‹æ‘„", "å†…å®¹ç­–åˆ’"],
        "checklist": [
          "ç¡®è®¤æ‹æ‘„åœºåœ°å’Œæ—¶é—´",
          "å‡†å¤‡æ‹æ‘„è®¾å¤‡",
          "æ’°å†™è§†é¢‘è„šæœ¬",
          "æ‹æ‘„è§†é¢‘å†…å®¹",
          "åæœŸå‰ªè¾‘åˆ¶ä½œ",
          "å‘å¸ƒå¹¶ç›‘æ§æ•°æ®"
        ],
        "successMetrics": {
          "minViews": 1000,
          "minLikes": 50,
          "minComments": 10
        }
      }
    ]
  }
}
```

#### 2.2 ä»»åŠ¡æ‰¹é‡æ“ä½œ
**æ¥å£åœ°å€ï¼š** `POST /api/tasks/batch-operation`

**è¯·æ±‚å‚æ•°ï¼š**
```json
{
  "operation": "assign|status_change|delete|duplicate",
  "taskIds": ["task_001", "task_002", "task_003"],
  "operationData": {
    "assignTo": "user_002",
    "newStatus": "in_progress",
    "reason": "æ‰¹é‡åˆ†é…ç»™æ–°åŒäº‹"
  }
}
```

#### 2.3 ä»»åŠ¡ä¾èµ–å…³ç³»
**æ¥å£åœ°å€ï¼š** `POST /api/tasks/{taskId}/dependencies`

**è¯·æ±‚å‚æ•°ï¼š**
```json
{
  "dependencies": [
    {
      "dependsOnTaskId": "task_001",
      "dependencyType": "finish_to_start",
      "lag": 0
    }
  ]
}
```

### 3. ç´ æç®¡ç†æ¨¡å— (é‡è¦è¡¥å……)

#### 3.1 ç´ æåº“ç®¡ç†
**æ¥å£åœ°å€ï¼š** `GET /api/materials/library`

**æŸ¥è¯¢å‚æ•°ï¼š**
```
type: string (å¯é€‰) - image|video|audio|document|finished
category: string (å¯é€‰) - marketing|template|product|brand
tags: string[] (å¯é€‰) - æ ‡ç­¾ç­›é€‰
hotelId: string (å¿…å¡«)
page: number, pageSize: number
```

**å“åº”æ•°æ®ï¼š**
```json
{
  "code": 200,
  "success": true,
  "data": {
    "materials": [
      {
        "id": "material_001",
        "name": "é…’åº—å¤§å ‚å®£ä¼ å›¾",
        "type": "image",
        "category": "marketing",
        "url": "https://cdn.example.com/materials/hotel_lobby.jpg",
        "thumbnail": "https://cdn.example.com/thumbnails/hotel_lobby_thumb.jpg",
        "size": 2048000,
        "dimensions": {
          "width": 1920,
          "height": 1080
        },
        "tags": ["å¤§å ‚", "å®£ä¼ ", "é«˜æ¸…"],
        "usage": {
          "totalUsed": 15,
          "lastUsed": "2025-12-01T10:30:00Z",
          "usedInTasks": ["task_001", "task_005"]
        },
        "aiAnalysis": {
          "visualElements": ["ç°ä»£è£…ä¿®", "æ˜äº®ç…§æ˜", "å•†åŠ¡é£æ ¼"],
          "suggestedUse": ["å•†åŠ¡å®¢æˆ·è¥é”€", "å“ç‰Œå½¢è±¡å±•ç¤º"],
          "emotionalTone": "ä¸“ä¸šã€é«˜ç«¯ã€å¯ä¿¡èµ–"
        },
        "createdAt": "2025-11-15T09:00:00Z",
        "createdBy": "å¼ å°æ˜"
      }
    ],
    "stats": {
      "totalCount": 156,
      "byType": {
        "image": 89,
        "video": 34,
        "finished": 33
      },
      "storageUsed": "2.3GB",
      "storageLimit": "10GB"
    }
  }
}
```

#### 3.2 ç´ æAIåˆ†æ
**æ¥å£åœ°å€ï¼š** `POST /api/materials/{materialId}/ai-analysis`

**å“åº”æ•°æ®ï¼š**
```json
{
  "code": 200,
  "success": true,
  "data": {
    "analysis": {
      "visualQuality": {
        "score": 8.5,
        "resolution": "é«˜æ¸…",
        "lighting": "ä¼˜ç§€",
        "composition": "è‰¯å¥½"
      },
      "contentAnalysis": {
        "mainElements": ["é…’åº—å¤–è§‚", "æ‹›ç‰Œ", "å…¥å£"],
        "colorPalette": ["#2C3E50", "#ECF0F1", "#3498DB"],
        "mood": "ä¸“ä¸šå•†åŠ¡é£"
      },
      "marketingPotential": {
        "suitableChannels": ["å¾®ä¿¡æœ‹å‹åœˆ", "å°çº¢ä¹¦"],
        "targetAudience": ["å•†åŠ¡å®¢æˆ·", "é«˜ç«¯æ¶ˆè´¹è€…"],
        "bestUseTime": ["å·¥ä½œæ—¥ä¸Šåˆ", "å•†åŠ¡æ´»åŠ¨æœŸé—´"]
      },
      "suggestions": [
        "å»ºè®®åœ¨å¾®ä¿¡æœ‹å‹åœˆä½¿ç”¨ï¼Œçªå‡ºå•†åŠ¡å±æ€§",
        "å¯æ­é…å•†åŠ¡å¥—é¤æ¨å¹¿æ–‡æ¡ˆä½¿ç”¨",
        "å»ºè®®é¿å…åœ¨ä¼‘é—²å¨±ä¹ç±»å†…å®¹ä¸­ä½¿ç”¨"
      ]
    }
  }
}
```

### 4. æ•°æ®åˆ†ææ¨¡å— (å¤§å¹…å¢å¼º)

#### 4.1 å®æ—¶æ•°æ®å¤§å±
**æ¥å£åœ°å€ï¼š** `GET /api/analytics/dashboard/realtime`

**æŸ¥è¯¢å‚æ•°ï¼š**
```
hotelId: string (å¿…å¡«)
timeRange: string (å¯é€‰) - 1h|6h|24h|7d
```

**å“åº”æ•°æ®ï¼š**
```json
{
  "code": 200,
  "success": true,
  "data": {
    "realTimeMetrics": {
      "timestamp": "2025-12-05T14:30:00Z",
      "activeChannels": 8,
      "todayTasks": {
        "total": 12,
        "completed": 7,
        "inProgress": 3,
        "pending": 2
      },
      "liveCampaigns": [
        {
          "id": "campaign_001",
          "name": "å‘¨æœ«ç‰¹æƒ æ¨å¹¿",
          "channel": "douyin",
          "startTime": "2025-12-05T10:00:00Z",
          "currentMetrics": {
            "views": 2345,
            "likes": 156,
            "shares": 23,
            "comments": 45
          },
          "targetMetrics": {
            "views": 5000,
            "likes": 300,
            "conversions": 10
          }
        }
      ],
      "alerts": [
        {
          "type": "warning",
          "message": "æŠ–éŸ³è´¦æˆ·äº’åŠ¨ç‡ä½äºé¢„æœŸ",
          "action": "å»ºè®®è°ƒæ•´å†…å®¹ç­–ç•¥"
        }
      ]
    }
  }
}
```

#### 4.2 è¥é”€ROIåˆ†æ
**æ¥å£åœ°å€ï¼š** `GET /api/analytics/roi-analysis`

**æŸ¥è¯¢å‚æ•°ï¼š**
```
hotelId: string (å¿…å¡«)
startDate: string (å¿…å¡«)
endDate: string (å¿…å¡«)
dimension: string (å¯é€‰) - channel|campaign|task_type|time
```

**å“åº”æ•°æ®ï¼š**
```json
{
  "code": 200,
  "success": true,
  "data": {
    "roiAnalysis": {
      "overall": {
        "totalInvestment": 50000,
        "totalRevenue": 180000,
        "roi": 3.6,
        "profitMargin": 0.72
      },
      "byChannel": [
        {
          "channelId": "wechat",
          "channelName": "å¾®ä¿¡è¥é”€",
          "investment": 20000,
          "revenue": 85000,
          "roi": 4.25,
          "conversions": 156,
          "avgOrderValue": 545.45,
          "customerAcquisitionCost": 128.21
        }
      ],
      "byTimePeriod": {
        "weekly": [
          {
            "week": "2025-W49",
            "investment": 12000,
            "revenue": 45000,
            "roi": 3.75
          }
        ]
      },
      "insights": [
        "å¾®ä¿¡æ¸ é“ROIæœ€é«˜ï¼Œå»ºè®®å¢åŠ æŠ•å…¥",
        "å‘¨æœ«æ—¶æ®µè½¬åŒ–ç‡è¾ƒé«˜ï¼Œå¯é‡ç‚¹æŠ•æ”¾",
        "è§†é¢‘å†…å®¹æ¯”å›¾æ–‡å†…å®¹æ•ˆæœå¥½30%"
      ]
    }
  }
}
```

### 5. å›¢é˜Ÿåä½œæ¨¡å— (æ–°å¢)

#### 5.1 å›¢é˜Ÿæˆå‘˜ç®¡ç†
**æ¥å£åœ°å€ï¼š** `GET /api/team/members`

**å“åº”æ•°æ®ï¼š**
```json
{
  "code": 200,
  "success": true,
  "data": {
    "members": [
      {
        "userId": "user_001",
        "name": "å¼ å°æ˜",
        "role": "è¥é”€ç»ç†",
        "department": "è¥é”€éƒ¨",
        "permissions": ["task_create", "task_assign", "data_view"],
        "skills": ["å†…å®¹ç­–åˆ’", "æ•°æ®åˆ†æ", "å®¢æˆ·æœåŠ¡"],
        "workload": {
          "activeTasks": 5,
          "completedThisWeek": 12,
          "avgTaskDuration": 45,
          "utilizationRate": 0.78
        },
        "performance": {
          "taskCompletionRate": 0.95,
          "avgTaskRating": 4.2,
          "customerSatisfaction": 4.5
        }
      }
    ]
  }
}
```

#### 5.2 åä½œä»»åŠ¡åˆ†é…
**æ¥å£åœ°å€ï¼š** `POST /api/team/task-assignment`

**è¯·æ±‚å‚æ•°ï¼š**
```json
{
  "taskId": "task_001",
  "assignmentType": "individual|collaborative|review_chain",
  "assignments": [
    {
      "userId": "user_001",
      "role": "executor",
      "estimatedHours": 2,
      "deadline": "2025-12-06T18:00:00Z"
    },
    {
      "userId": "user_002", 
      "role": "reviewer",
      "reviewCriteria": ["å†…å®¹è´¨é‡", "å“ç‰Œä¸€è‡´æ€§", "åˆè§„æ€§"]
    }
  ]
}
```

### 6. ç³»ç»Ÿé›†æˆæ¨¡å—

#### 6.1 ç¬¬ä¸‰æ–¹å¹³å°é›†æˆ
**æ¥å£åœ°å€ï¼š** `GET /api/integrations/platforms`

**å“åº”æ•°æ®ï¼š**
```json
{
  "code": 200,
  "success": true,
  "data": {
    "platforms": [
      {
        "platformId": "wechat_official",
        "name": "å¾®ä¿¡å…¬ä¼—å·",
        "status": "connected",
        "lastSync": "2025-12-05T14:00:00Z",
        "capabilities": ["post_publish", "comment_monitor", "fan_analysis"],
        "accountInfo": {
          "accountName": "XXé…’åº—å®˜æ–¹",
          "followers": 12456,
          "monthlyReach": 45678
        }
      },
      {
        "platformId": "douyin_enterprise",
        "name": "æŠ–éŸ³ä¼ä¸šå·",
        "status": "connected",
        "capabilities": ["video_publish", "live_stream", "data_analysis"],
        "accountInfo": {
          "accountName": "@XXé…’åº—",
          "followers": 8934,
          "avgVideoViews": 2345
        }
      }
    ]
  }
}
```

#### 6.2 æ•°æ®åŒæ­¥çŠ¶æ€
**æ¥å£åœ°å€ï¼š** `GET /api/integrations/sync-status`

**å“åº”æ•°æ®ï¼š**
```json
{
  "code": 200,
  "success": true,
  "data": {
    "syncStatus": {
      "lastFullSync": "2025-12-05T02:00:00Z",
      "nextScheduledSync": "2025-12-06T02:00:00Z",
      "failedSyncs": [
        {
          "platformId": "xiaohongshu",
          "failTime": "2025-12-05T14:15:00Z",
          "reason": "APIé™åˆ¶",
          "nextRetry": "2025-12-05T15:15:00Z"
        }
      ],
      "dataFreshness": {
        "marketingData": "5åˆ†é’Ÿå‰",
        "customerData": "1å°æ—¶å‰",
        "performanceData": "å®æ—¶"
      }
    }
  }
}
```

## ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡å»ºè®®

### æ ¸å¿ƒè¡¨ç»“æ„

```sql
-- è¥é”€è®¡åˆ’è¡¨
CREATE TABLE marketing_plans (
    id VARCHAR(32) PRIMARY KEY,
    hotel_id VARCHAR(32) NOT NULL,
    name VARCHAR(200) NOT NULL,
    period_start DATE NOT NULL,
    period_end DATE NOT NULL,
    budget DECIMAL(12,2),
    target_metrics JSON,
    ai_generated BOOLEAN DEFAULT FALSE,
    status ENUM('draft', 'active', 'paused', 'completed'),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    created_by VARCHAR(32),
    INDEX idx_hotel_period (hotel_id, period_start, period_end)
);

-- è¥é”€ä»»åŠ¡è¡¨
CREATE TABLE marketing_tasks (
    id VARCHAR(32) PRIMARY KEY,
    plan_id VARCHAR(32),
    title VARCHAR(200) NOT NULL,
    description TEXT,
    task_type VARCHAR(50),
    scheduled_date DATE,
    scheduled_time TIME,
    estimated_duration INT, -- åˆ†é’Ÿ
    actual_duration INT,
    priority ENUM('low', 'medium', 'high', 'urgent'),
    status ENUM('pending', 'in_progress', 'completed', 'cancelled'),
    assigned_to VARCHAR(32),
    channels JSON, -- ["wechat", "douyin"]
    materials JSON, -- å…³è”ç´ æID
    checklist JSON,
    completion_rate DECIMAL(3,2),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    completed_at TIMESTAMP NULL,
    INDEX idx_plan_date (plan_id, scheduled_date),
    INDEX idx_assignee_status (assigned_to, status),
    FOREIGN KEY (plan_id) REFERENCES marketing_plans(id)
);

-- ç´ æåº“è¡¨
CREATE TABLE materials (
    id VARCHAR(32) PRIMARY KEY,
    name VARCHAR(200) NOT NULL,
    type ENUM('image', 'video', 'audio', 'document', 'finished'),
    category VARCHAR(50),
    file_url VARCHAR(500) NOT NULL,
    thumbnail_url VARCHAR(500),
    file_size BIGINT,
    dimensions JSON, -- {"width": 1920, "height": 1080}
    duration INT, -- è§†é¢‘/éŸ³é¢‘æ—¶é•¿(ç§’)
    tags JSON,
    ai_analysis JSON,
    usage_count INT DEFAULT 0,
    hotel_id VARCHAR(32),
    created_by VARCHAR(32),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_hotel_type (hotel_id, type),
    INDEX idx_tags (tags),
    FULLTEXT idx_name_tags (name, tags)
);

-- è¥é”€æ•°æ®è¡¨
CREATE TABLE marketing_metrics (
    id VARCHAR(32) PRIMARY KEY,
    task_id VARCHAR(32),
    platform VARCHAR(50),
    metric_type VARCHAR(50), -- views, likes, shares, comments, conversions
    metric_value DECIMAL(15,2),
    metric_date DATE,
    metric_hour TINYINT,
    additional_data JSON,
    collected_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_task_platform_date (task_id, platform, metric_date),
    INDEX idx_metric_type_date (metric_type, metric_date),
    FOREIGN KEY (task_id) REFERENCES marketing_tasks(id)
);
```

## ğŸš€ æŠ€æœ¯æ¶æ„å»ºè®®

### åç«¯æŠ€æœ¯æ ˆ
- **åº”ç”¨æ¡†æ¶**: Spring Boot 3.x + Spring Cloud
- **æ•°æ®åº“**: MySQL 8.0 (ä¸»åº“) + Redis (ç¼“å­˜)
- **æ¶ˆæ¯é˜Ÿåˆ—**: RocketMQ (ä»»åŠ¡è°ƒåº¦ã€æ•°æ®åŒæ­¥)
- **æœç´¢å¼•æ“**: Elasticsearch (ç´ ææœç´¢ã€æ•°æ®åˆ†æ)
- **æ–‡ä»¶å­˜å‚¨**: é˜¿é‡Œäº‘OSS/è…¾è®¯äº‘COS
- **ç›‘æ§**: Prometheus + Grafana

### å…³é”®æŠ€æœ¯ç‰¹æ€§
1. **å¾®æœåŠ¡æ¶æ„** - æœåŠ¡è§£è€¦ï¼Œç‹¬ç«‹æ‰©å±•
2. **äº‹ä»¶é©±åŠ¨** - å¼‚æ­¥å¤„ç†ï¼Œæå‡å“åº”é€Ÿåº¦
3. **AIé›†æˆ** - å†…å®¹åˆ†æã€æ™ºèƒ½æ¨èã€è‡ªåŠ¨åŒ–ç”Ÿæˆ
4. **å®æ—¶æ•°æ®** - WebSocketæ¨é€ï¼Œå®æ—¶ç›‘æ§
5. **å¤šç§Ÿæˆ·è®¾è®¡** - æ”¯æŒå¤šé…’åº—å®ä¾‹

### APIè®¾è®¡åŸåˆ™
1. **RESTfulé£æ ¼** - èµ„æºå¯¼å‘ï¼Œè¯­ä¹‰æ¸…æ™°
2. **ç»Ÿä¸€å“åº”æ ¼å¼** - ä¾¿äºå‰ç«¯å¤„ç†
3. **åˆ†é¡µæŸ¥è¯¢** - æ”¯æŒå¤§æ•°æ®é‡
4. **æƒé™æ§åˆ¶** - åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶
5. **æ¥å£ç‰ˆæœ¬ç®¡ç†** - å‘åå…¼å®¹

## ğŸ” å®‰å…¨ä¸æ€§èƒ½

### å®‰å…¨æªæ–½
- JWT Tokenè®¤è¯ + åˆ·æ–°æœºåˆ¶
- APIè®¿é—®é¢‘ç‡é™åˆ¶
- æ•æ„Ÿæ•°æ®åŠ å¯†å­˜å‚¨
- æ–‡ä»¶ä¸Šä¼ å®‰å…¨æ£€æŸ¥
- SQLæ³¨å…¥é˜²æŠ¤

### æ€§èƒ½ä¼˜åŒ–
- Redisç¼“å­˜çƒ­ç‚¹æ•°æ®
- æ•°æ®åº“è¯»å†™åˆ†ç¦»
- CDNåŠ é€Ÿé™æ€èµ„æº
- å¼‚æ­¥ä»»åŠ¡å¤„ç†
- æ•°æ®é¢„èšåˆ

è¿™å¥—æ¥å£è®¾è®¡èƒ½å¤Ÿå®Œæ•´æ”¯æ’‘é…’åº—è¥é”€ç®¡ç†å°ç¨‹åºçš„æ‰€æœ‰ä¸šåŠ¡éœ€æ±‚ï¼Œå¹¶ä¸ºæœªæ¥æ‰©å±•é¢„ç•™äº†å……åˆ†çš„ç©ºé—´ã€‚
